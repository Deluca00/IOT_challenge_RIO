import serial

# Má»Ÿ cá»•ng USBâ€“UART (check báº±ng: ls /dev/ttyUSB*)
ser = serial.Serial('/dev/ttyUSB0', 9600, timeout=1)

print("ğŸ“¡ Äang láº¯ng nghe dá»¯ liá»‡u UART tá»« Arduino... (Ctrl+C Ä‘á»ƒ thoÃ¡t)")

try:
    while True:
        # Äá»c 1 dÃ²ng dá»¯ liá»‡u (káº¿t thÃºc báº±ng \n)
        line = ser.readline().decode(errors="ignore").strip()
        if line:
            print(f"[RX] {line}")

            # Náº¿u muá»‘n gá»­i láº¡i pháº£n há»“i vá» Arduino
            ser.write((f"ÄÃ£ nháº­n: {line}\n").encode())

except KeyboardInterrupt:
    print("\nâ¹ Dá»«ng láº¡i.")
finally:
    ser.close()